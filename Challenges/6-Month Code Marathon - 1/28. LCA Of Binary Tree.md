# Intuition

The **Lowest Common Ancestor (LCA)** of two nodes `X` and `Y` is the **deepest node** that is an ancestor of both `X` and `Y`.

* In a binary tree (not necessarily BST), the approach is:

  * Recursively check the left and right subtrees for `X` or `Y`.
  * If both left and right subtrees return non-null, then the current node is the LCA.
  * If only one subtree returns non-null, propagate that node upwards.
  * If neither subtree contains `X` or `Y`, return null.

---

# Approach (Recursive)

1. If `root` is `null`, return `null`.
2. If `root.data == x` or `root.data == y`, return `root`.
3. Recur for left subtree: `left = lowestCommonAncestor(root.left, x, y)`.
4. Recur for right subtree: `right = lowestCommonAncestor(root.right, x, y)`.
5. **Decision:**

   * If `left != null` and `right != null` → current node is LCA, return `root.data`.
   * Else, return `left != null ? left.data : right.data`.

---

# Complexity

* **Time Complexity:** `O(N)` → Each node is visited once.
* **Space Complexity:** `O(H)` → Recursion stack, where `H` is height of tree (`O(N)` in skewed tree, `O(log N)` for balanced tree).

---

# Code

```java
public class Solution {
    public static int lowestCommonAncestor(TreeNode<Integer> root, int x, int y) {
        TreeNode<Integer> lcaNode = findLCA(root, x, y);
        return lcaNode.data;
    }

    private static TreeNode<Integer> findLCA(TreeNode<Integer> root, int x, int y) {
        if (root == null) return null;

        if (root.data == x || root.data == y) return root;

        TreeNode<Integer> left = findLCA(root.left, x, y);
        TreeNode<Integer> right = findLCA(root.right, x, y);

        if (left != null && right != null) return root;

        return left != null ? left : right;
    }
}
```

---

## Example Walkthrough

### Input Tree:

```
        1
       / \
      2   3
     / \
    4   7
```

* `X = 4`, `Y = 7`

**Steps:**

1. Call `findLCA(root=1, 4, 7)`

   * Recur left: `findLCA(root=2, 4, 7)`

     * Recur left: `findLCA(root=4, 4, 7)` → matches `4`, return node `4`.
     * Recur right: `findLCA(root=7, 4, 7)` → matches `7`, return node `7`.
     * Both left and right non-null → LCA is `2`, return node `2`.
   * Recur right: `findLCA(root=3, 4, 7)` → returns null.
   * Left non-null, right null → return node `2`.

**Output:** `2`

---
